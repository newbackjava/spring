import{_,u as g,a as q,b as r,d as t,t as n,e as o,q as b,F as m,p as C,f as x,h as D,o as u,i as B}from"./index-rpaSVVXe.js";import{b as y}from"./boardApi-B1sPviVV.js";import{h as Y}from"./moment-C5S46NFB.js";import"./index-8lyi-S2W.js";const F=async p=>{try{const e=document.createElement("a");e.href=p,document.body.appendChild(e),e.click(),document.body.removeChild(e)}catch(e){console.error(e)}},N={class:"my-3 d-flex justify-content-between"},R={class:"text-end"},V=["onClick"],A={class:"content"},E={class:"my-5"},H={__name:"BoardDetailPage",setup(p){const e=g(),l=D(),i=B(),d=l.params.no,s=q({}),v=()=>{i.push({name:"board/list",query:l.query})},k=()=>{i.push({name:"board/update",params:{no:d},query:l.query})},h=async()=>{confirm("삭제할까요?")&&(await y.delete(d),i.push({name:"board/list",query:l.query}))},w=async f=>{const a="/api/board/download/"+f;await F(a)};return(async()=>{s.value=await y.get(d)})(),(f,a)=>(u(),r(m,null,[t("h1",null,n(s.value.title),1),t("div",N,[t("div",null,[a[0]||(a[0]=t("i",{class:"fa-solid fa-user"},null,-1)),o(" "+n(s.value.writer),1)]),t("div",null,[a[1]||(a[1]=t("i",{class:"fa-regular fa-clock"},null,-1)),o(" "+n(b(Y)(s.value.updateDate).format("YYYY-MM-DD HH:mm")),1)])]),a[6]||(a[6]=t("hr",null,null,-1)),t("div",R,[(u(!0),r(m,null,C(s.value.attaches,c=>(u(),r("div",{key:c.no,class:"attach"},[t("span",{onClick:M=>w(c.no)},[a[2]||(a[2]=t("i",{class:"fa-solid fa-paperclip"},null,-1)),o(" "+n(c.filename),1)],8,V)]))),128))]),t("div",A,n(s.value.content),1),t("div",E,[t("button",{class:"btn btn-primary me-2",onClick:v},a[3]||(a[3]=[t("i",{class:"fa-solid fa-list"},null,-1),o(" 목록")])),b(e).username==s.value.writer?(u(),r(m,{key:0},[t("button",{class:"btn btn-primary me-2",onClick:k},a[4]||(a[4]=[t("i",{class:"fa-regular fa-pen-to-square"},null,-1),o(" 수정")])),t("button",{class:"btn btn-danger",onClick:h},a[5]||(a[5]=[t("i",{class:"fa-solid fa-trash-can"},null,-1),o(" 삭제")]))],64)):x("",!0)])],64))}},T=_(H,[["__scopeId","data-v-99b01f30"]]);export{T as default};
