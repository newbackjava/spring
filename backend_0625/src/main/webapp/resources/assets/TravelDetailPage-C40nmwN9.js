import{_ as h,o as c,b as u,d as s,t as v,a as g,q as m,F as f,p as b,r as T,e as _,j as p,k as x,B as w,T as M,h as q,i as $}from"./index-rpaSVVXe.js";import{a as C}from"./travelApi-DxNMm_de.js";import"./index-8lyi-S2W.js";const I={class:"align-content-center"},K={__name:"TravelHeader",props:{travel:{Type:Object,required:!0}},setup(l){const t=l;console.log(t.travel.images);const a={backgroundImage:`url('${t.travel.images[0].url}')`};return(o,e)=>(c(),u("div",{class:"travel-header mb-4 d-flex justify-content-center",style:a},[s("h1",I,"["+v(l.travel.district)+"] "+v(l.travel.title),1)]))}},L=h(K,[["__scopeId","data-v-9467ba71"]]),S={class:"w-100 my-4"},B=["src"],H={class:"d-flex"},O=["src","onClick"],j={__name:"TravelImages",props:{images:{Type:Array,required:!0}},setup(l){const t=l;console.log(t.images);let a=g(t.images[0].url);const o=e=>{console.log(e,t.images[e].url),a.value=t.images[e].url};return(e,i)=>(c(),u("div",S,[s("img",{src:m(a),style:{width:"100%",height:"400px"}},null,8,B),s("div",H,[(c(!0),u(f,null,b(l.images,(d,r)=>(c(),u("div",{class:"flex-fill",key:d.no},[s("img",{class:"thumbnail",src:d.url,style:{width:"100%",height:"100px"},onClick:n=>o(r)},null,8,O)]))),128))])]))}},N=h(j,[["__scopeId","data-v-9eae66b1"]]),R={__name:"TravelMap",props:{title:{Type:String,required:!0},address:{Type:String,required:!0}},setup(l){const t=l,a=T({lat:37.566826,lng:126.9786567}),o=g(),e=r=>{o.value=r,new kakao.maps.services.Geocoder().addressSearch(t.address,(k,y)=>{y===kakao.maps.services.Status.OK&&(a.lat=k[0].y,a.lng=k[0].x)})},i=g(!1),d=()=>{i.value=!i.value};return(r,n)=>(c(),u(f,null,[s("div",null,[n[0]||(n[0]=s("i",{class:"fa-solid fa-map-location-dot"},null,-1)),_(" 주소: "+v(l.address),1)]),p(m(M),{lat:a.lat,lng:a.lng,level:3,draggable:!0,style:{width:"100%"},onOnLoadKakaoMap:e},{default:x(()=>[p(m(w),{lat:a.lat,lng:a.lng,clickable:!0,infoWindow:{content:l.title,visible:i.value},onOnClickKakaoMapMarker:d},null,8,["lat","lng","infoWindow"])]),_:1},8,["lat","lng"])],64))}},V=["innerHTML"],A={__name:"TravelDetailPage",setup(l){const t=q(),a=$(),o=t.params.no,e=g({}),i=()=>{a.push({name:"travel/list",query:t.query})};return(async()=>{e.value=await C.get(o);let r=e.value.description.replace(/\. /gm,n=>n+"<p/><p>");e.value.description=`<p>${r}</p>`,console.log(e.value)})(),(r,n)=>(c(),u(f,null,[p(L,{travel:e.value},null,8,["travel"]),s("div",{class:"content",innerHTML:e.value.description},null,8,V),p(N,{images:e.value.images},null,8,["images"]),s("div",null,[n[0]||(n[0]=s("i",{class:"fa-solid fa-square-phone-flip"},null,-1)),_(" 전화번호: "+v(e.value.phone),1)]),p(R,{title:e.value.title,address:e.value.address},null,8,["title","address"]),s("div",{class:"my-5"},[s("button",{class:"btn btn-primary me-2",onClick:i},n[1]||(n[1]=[s("i",{class:"fa-solid fa-list"},null,-1),_(" 목록")]))])],64))}};export{A as default};
